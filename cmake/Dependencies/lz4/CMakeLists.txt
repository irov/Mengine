CMAKE_MINIMUM_REQUIRED(VERSION 3.10)

project( lz4 )

SET( SOURCE_DIR ${THIRDPARTY_DIR}/lz4 )

# OUR SOURCES
set( SOURCES
${SOURCE_DIR}/lib/lz4.c
${SOURCE_DIR}/lib/lz4hc.c
)

if(WIN32)
    ADD_DEFINITIONS(-DLZ4HC_HEAPMODE=0)
    ADD_DEFINITIONS(-DLZ4_FORCE_MEMORY_ACCESS=2)
endif()

ADD_DEFINITIONS(-DLZ4_USER_MEMORY_FUNCTIONS)

include_directories(${SOURCE_DIR}/lib)

add_library( ${PROJECT_NAME} STATIC ${SOURCES} )
