CMAKE_MINIMUM_REQUIRED(VERSION 3.10)

OPTION(MENGINE_DOWNLOADS_SILENT "Mengine download silent" OFF)

PROJECT(Downloads NONE)

SET(MENGINE_REPOSITORY ${CMAKE_CURRENT_SOURCE_DIR}/../..)
SET(THIRDPARTY_DIR ${MENGINE_REPOSITORY}/dependencies)

include(${MENGINE_REPOSITORY}/cmake/download_template.cmake)

DOWNLOAD_FILE(stb_image https://raw.githubusercontent.com/nothings/stb/master/stb_image.h stb_image.h)
DOWNLOAD_FILE(stb_image https://raw.githubusercontent.com/nothings/stb/master/stb_image_write.h stb_image_write.h)

IF(WIN32)
    DOWNLOAD_URL(astralax http://www.astralax.ru/download/programm/dev/magic_win.zip)
ENDIF()

IF(APPLE)
    DOWNLOAD_URL(astralax_mac http://astralax.ru/download/programm/dev/magic_mac.zip)
ENDIF()

#ANDROID
DOWNLOAD_URL(devtodev-android https://github.com/devtodev-analytics/android-sdk-2.0/archive/refs/tags/v2.1.2.zip)

IF(WIN32)
    DOWNLOAD_URL(marsdk-android https://marsdkserver-1300810349.file.myqcloud.com/marsdk/MARSDK_v2.6.27.zip)
endif()

#COMMON
GIT_CLONE(freetype https://gitlab.freedesktop.org/freetype/freetype.git "VER-2-13-2")
GIT_CLONE(ios-cmake https://github.com/leetal/ios-cmake "4.4.1")
GIT_CLONE(zlib https://github.com/madler/zlib.git "v1.3.1")
GIT_CLONE(libogg https://github.com/xiph/ogg.git "v1.3.5")
GIT_CLONE(libvorbis https://github.com/xiph/vorbis.git "v1.3.7")
GIT_CLONE(libwebp https://github.com/webmproject/libwebp.git "v1.4.0")
GIT_CLONE(pugixml https://github.com/zeux/pugixml.git "v1.14")
GIT_CLONE(pybind https://github.com/irov/pybind.git)
GIT_CLONE(metabuf https://github.com/irov/metabuf.git)
GIT_CLONE(stdex https://github.com/irov/stdex.git)
GIT_CLONE(libmovie https://github.com/irov/libmovie.git)
GIT_CLONE(json https://github.com/irov/json.git)
GIT_CLONE(utf8 https://github.com/nemtrif/utfcpp.git "v4.0.5")
GIT_CLONE(lz4 https://github.com/lz4/lz4.git "v1.9.4")
GIT_CLONE(poly2tri https://github.com/jhasse/poly2tri.git)
GIT_CLONE(tinyini https://github.com/irov/tinyini.git)
GIT_CLONE(libfe https://github.com/frankinshtein/font-effects-lib.git)
GIT_CLONE(libmath https://github.com/irov/libmath.git)
GIT_CLONE(jansson https://github.com/akheron/jansson.git "v2.14")
GIT_CLONE(jpp https://github.com/irov/jpp.git)
GIT_CLONE(libpng https://github.com/glennrp/libpng.git "v1.6.40")
GIT_CLONE(libjpeg https://github.com/winlibs/libjpeg.git "libjpeg-9c")
GIT_CLONE(libtheora https://github.com/xiph/theora.git "v1.1.1")
GIT_CLONE(openal-soft https://github.com/kcat/openal-soft.git "1.23.1")
GIT_CLONE(python https://github.com/python/cpython.git "v2.7.18")
GIT_CLONE(python3 https://github.com/python/cpython.git "v3.8.12")
GIT_CLONE(ozz https://github.com/guillaumeblanc/ozz-animation.git "0.14.2")
GIT_CLONE(glad https://github.com/Dav1dde/glad.git "v2.0.5")
GIT_CLONE(glfw3 https://github.com/glfw/glfw.git "3.3.9")
GIT_CLONE(imgui https://github.com/ocornut/imgui.git "v1.90.4")
GIT_CLONE(zed_net https://github.com/Smilex/zed_net)
GIT_CLONE(spine https://github.com/EsotericSoftware/spine-runtimes.git "4.1.00")
GIT_CLONE(dazzle https://github.com/irov/dazzle.git)
GIT_CLONE(GOAP https://github.com/irov/GOAP.git)
GIT_CLONE(SDL https://github.com/libsdl-org/SDL.git "release-2.30.5")
GIT_CLONE(SDL_net https://github.com/libsdl-org/SDL_net.git "release-2.2.0")
GIT_CLONE(xmlsax https://github.com/irov/xmlsax.git)
GIT_CLONE(box2d https://github.com/erincatto/Box2D.git "v2.4.0")
GIT_CLONE(graphics https://github.com/irov/graphics.git)
GIT_CLONE(cmake-modules https://github.com/rpavlik/cmake-modules.git "228f41efa54d6b552f5ef65e5ef46b14f8316f8b")

IF(WIN32)
    GIT_CLONE(openssl https://github.com/janbar/openssl-cmake.git "1.1.1w-20231130")
    GIT_CLONE(sentry https://github.com/getsentry/sentry-native.git "0.7.0")
    GIT_CLONE(optick https://github.com/bombomby/optick.git "1.4.0.0")
    GIT_CLONE(renderdoc https://github.com/baldurk/renderdoc.git "v1.31")
endif()