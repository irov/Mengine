CMAKE_MINIMUM_REQUIRED(VERSION 3.2)

PROJECT(Box2D_WIN32)

SET(PROJECT_DIR ${CMAKE_CURRENT_SOURCE_DIR}/../..)
SET(PROJECT_TEMP_DIR ${CMAKE_BINARY_DIR}/solutions)

#path to Mengine cmake
SET(MENGINE_INSTALL_PATH ${PROJECT_DIR}/bin)
SET(MENGINE_CMAKE_DIR ${PROJECT_DIR}/../../cmake/Win32)
SET(MENGINE_DEPLOY_PATH ${PROJECT_DIR}/deploy)

set(MENGINE_BUILD_MENGINE_SCRIPT_EMBEDDED OFF CACHE BOOL "MENGINE_BUILD_MENGINE_SCRIPT_EMBEDDED" FORCE)
SET(MENGINE_EXTERNAL_PROJECT_NAME "Box2DFramework" CACHE STRING "MENGINE_EXTERNAL_PROJECT_NAME" FORCE)
set(MENGINE_EXTERNAL_SOURCE ON CACHE BOOL "MENGINE_EXTERNAL_SOURCE" FORCE)
set(MENGINE_EXTERNAL_SOURCE_PATH ${PROJECT_DIR}/src CACHE STRING "MENGINE_EXTERNAL_SOURCE_PATH" FORCE)
set(MENGINE_EXTERNAL_TEMP_PATH ${PROJECT_TEMP_DIR}/Box2DFramework CACHE STRING "MENGINE_EXTERNAL_TEMP_PATH" FORCE)
set(MENGINE_USE_SUBFOLDER ON CACHE STRING "MENGINE_USE_SUBFOLDER" FORCE)
set(MENGINE_SUBFOLDER_NAME "Mengine" CACHE STRING "MENGINE_SUBFOLDER_NAME" FORCE)

ADD_SUBDIRECTORY(${MENGINE_CMAKE_DIR} ${PROJECT_TEMP_DIR}/Mengine)

if(MSVC)
    set_property(TARGET Win32Application PROPERTY VS_DEBUGGER_WORKING_DIRECTORY "${PROJECT_DIR}/resources")
endif()