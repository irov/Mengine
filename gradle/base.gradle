android {
    ndkVersion project.ndkVersion
    buildToolsVersion project.buildToolsVersion
    compileSdkVersion project.compileSdkVersion

    compileOptions {
        coreLibraryDesugaringEnabled true
        sourceCompatibility project.javaVersion
        targetCompatibility project.javaVersion
    }

    defaultConfig {
        multiDexEnabled project.multiDexEnabled
        minSdkVersion project.minSdkVersion
        targetSdkVersion project.targetSdkVersion
    }

    buildFeatures {
        buildConfig = true
    }

    lintOptions {
        checkReleaseBuilds false
        abortOnError false
    }
}

dependencies {
    coreLibraryDesugaring 'com.android.tools:desugar_jdk_libs:2.1.4'

    implementation 'org.jetbrains.kotlin:kotlin-stdlib:2.1.0'
    implementation("com.google.guava:guava:33.4.0-android")

    compileOnly 'com.google.errorprone:error_prone_annotations:2.36.0'
    annotationProcessor 'com.google.errorprone:error_prone_core:2.36.0'

    errorprone("com.google.errorprone:error_prone_core:2.36.0")
}

tasks.withType(JavaCompile).configureEach {
    options.errorprone.enabled = true
    options.errorprone.disableWarningsInGeneratedCode = true
}