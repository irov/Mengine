import com.Mengine.Utils

apply from: rootProject.projectDir.getAbsolutePath() + '/plugins/plugin.gradle'

def MENGINE_APP_PLUGIN_FIREBASE_MESSAGING = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_FIREBASE_MESSAGING")

android {
    sourceSets {
        main {
            if (MENGINE_APP_PLUGIN_FIREBASE_MESSAGING == true) {
                println "Plugin [Adjust] add extension 'firebaseMessaging'"
                
                java.srcDirs += ['firebaseMessaging']
            }
        }
    }
}

if (MENGINE_APP_PLUGIN_FIREBASE_MESSAGING == true) {
    android.ext.extensions += 'org.Mengine.Plugin.Adjust.MengineAdjustExtensionFirebaseMessaging'

    dependencies {
        implementation project(path: ':plugins:FirebaseMessaging')

        implementation 'com.google.firebase:firebase-messaging'
    }
}

dependencies {
    implementation 'com.adjust.sdk:adjust-android:4.31.1'
    implementation 'com.android.installreferrer:installreferrer:2.2'
    implementation 'com.google.android.gms:play-services-ads-identifier:18.0.1'
}