import com.Mengine.Utils

def MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_ADCOLONY = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_ADCOLONY")
def MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_AMAZON = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_AMAZON")
def MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_BIDMACHINE = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_BIDMACHINE")
def MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_CHARTBOOST = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_CHARTBOOST")
def MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_CRITEO = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_CRITEO")
def MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_DTEXCHANGE = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_DTEXCHANGE")
def MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_GOOGLEADMANAGER = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_GOOGLEADMANAGER")
def MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_ADMOB = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_ADMOB")
def MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_HYPRMX = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_HYPRMX")
def MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_INMOBI = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_INMOBI")
def MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_IRONSOURCE = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_IRONSOURCE")
def MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_LIFTOFF = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_LIFTOFF")
def MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_LINE = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_LINE")
def MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_MAIO = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_MAIO")
def MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_META = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_META")
def MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_MINTEGRAL = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_MINTEGRAL")
def MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_MOBILEFUSE = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_MOBILEFUSE")
def MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_MYTARGET = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_MYTARGET")
def MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_NEND = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_NEND")
def MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_OGURY = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_OGURY")
def MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_PANGLE = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_PANGLE")
def MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_SMAATO = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_SMAATO")
def MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_TAPJOY = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_TAPJOY")
def MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_UNITYADS = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_UNITYADS")
def MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_VERVE = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_VERVE")
def MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_YAHOO = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_YAHOO")
def MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_YANDEX = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_YANDEX")

println "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_ADCOLONY: $MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_ADCOLONY"
println "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_AMAZON: $MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_AMAZON"
println "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_BIDMACHINE: $MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_BIDMACHINE"
println "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_CHARTBOOST: $MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_CHARTBOOST"
println "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_CRITEO: $MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_CRITEO"
println "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_DTEXCHANGE: $MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_DTEXCHANGE"
println "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_GOOGLEADMANAGER: $MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_GOOGLEADMANAGER"
println "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_ADMOB: $MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_ADMOB"
println "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_HYPRMX: $MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_HYPRMX"
println "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_INMOBI: $MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_INMOBI"
println "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_IRONSOURCE: $MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_IRONSOURCE"
println "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_LIFTOFF: $MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_LIFTOFF"
println "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_LINE: $MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_LINE"
println "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_MAIO: $MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_MAIO"
println "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_META: $MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_META"
println "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_MINTEGRAL: $MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_MINTEGRAL"
println "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_MOBILEFUSE: $MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_MOBILEFUSE"
println "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_MYTARGET: $MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_MYTARGET"
println "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_NEND: $MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_NEND"
println "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_OGURY: $MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_OGURY"
println "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_PANGLE: $MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_PANGLE"
println "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_SMAATO: $MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_SMAATO"
println "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_TAPJOY: $MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_TAPJOY"
println "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_UNITYADS: $MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_UNITYADS"
println "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_VERVE: $MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_VERVE"
println "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_YAHOO: $MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_YAHOO"
println "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_YANDEX: $MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_YANDEX"

def MENGINE_APP_PLUGIN_FIREBASE_ANALYTICS = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_FIREBASE_ANALYTICS")

subprojects {
    repositories {
        maven { url 'https://artifacts.applovin.com/android' }
    }
}

apply plugin: 'com.android.library'

android {
    buildToolsVersion project.buildToolsVersion
    compileSdkVersion project.compileSdkVersion

    defaultConfig {
        minSdkVersion project.minSdkVersion
        targetSdkVersion project.targetSdkVersion
    }

    compileOptions {
        sourceCompatibility project.javaVersion
        targetCompatibility project.javaVersion
    }

    lintOptions {
        checkReleaseBuilds false
        abortOnError false
    }

    sourceSets {
        main {
            if (MENGINE_APP_PLUGIN_FIREBASE_ANALYTICS == true) {
                println "Plugin [AppLovin] add extension 'firebaseAnalytics'"
                
                java.srcDirs += ['firebaseAnalytics']
            }

            if (MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_AMAZON == true) {
                println "Plugin [AppLovin] add extension 'mediationAmazon'"
            
                java.srcDirs += ['mediationAmazon']
            }

            if (project.hasProperty("ANDROID_APP_ASSETS_RES_DIR")) {
                res.srcDirs += [ANDROID_APP_ASSETS_RES_DIR]
            } else {
                res.srcDirs += ['../../app/res']
            }
        }
    }
}

dependencies {
    implementation project(':libraries:Mengine')
    implementation project(':libraries:SDL2')

    if (MENGINE_APP_PLUGIN_FIREBASE_ANALYTICS == true) {
        implementation project(path: ':plugins:FirebaseAnalytics')

        implementation 'com.google.firebase:firebase-analytics'
    }

    implementation 'com.google.android.gms:play-services-location:21.0.1'
    implementation 'com.google.android.gms:play-services-ads-identifier:18.0.1'

    implementation 'com.applovin:applovin-sdk:11.7.1'

    if (MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_ADCOLONY == true) {
        implementation 'com.applovin.mediation:adcolony-adapter:4.8.0.3'
    }

    if (MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_AMAZON == true) {
        implementation 'com.applovin.mediation:amazon-tam-adapter:9.6.2.3'
        implementation 'com.amazon.android:aps-sdk:9.6.2'
    }

    if (MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_BIDMACHINE == true) {
        implementation 'com.applovin.mediation:bidmachine-adapter:2.1.7.0'
    }

    if (MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_CHARTBOOST == true) {
        implementation 'com.applovin.mediation:chartboost-adapter:9.2.0.0'
        implementation 'com.google.android.gms:play-services-base:18.1.0'
    }

    if (MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_CRITEO == true) {
        implementation 'com.applovin.mediation:criteo-adapter:4.8.1.1'
    }

    if (MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_DTEXCHANGE == true) {
        implementation 'com.applovin.mediation:fyber-adapter:8.2.1.2'
    }

    if (MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_GOOGLEADMANAGER == true) {
        implementation 'com.applovin.mediation:google-ad-manager-adapter:21.5.0.0'
    }

    if (MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_ADMOB == true) {
        implementation 'com.applovin.mediation:google-adapter:21.5.0.0'
    }

    if (MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_HYPRMX == true) {
        implementation 'com.applovin.mediation:hyprmx-adapter:6.0.3.1'
    }

    if (MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_INMOBI == true) {
        implementation 'com.applovin.mediation:inmobi-adapter:10.1.2.4'
        implementation 'com.squareup.picasso:picasso:2.71828'
        implementation 'androidx.recyclerview:recyclerview:1.2.1'
    }

    if (MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_IRONSOURCE == true) {
        implementation 'com.applovin.mediation:ironsource-adapter:7.2.7.0.0'
    }

    if (MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_LIFTOFF == true) {
        implementation 'com.applovin.mediation:vungle-adapter:6.12.1.0'
    }

    if (MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_LINE == true) {
        implementation 'com.applovin.mediation:line-adapter:2022.2.16.4'
    }

    if (MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_MAIO == true) {
        implementation 'com.applovin.mediation:maio-adapter:1.1.16.2'
    }

    if (MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_META == true) {
        implementation 'com.applovin.mediation:facebook-adapter:6.12.0.2'
    }

    if (MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_MINTEGRAL == true) {
        implementation 'com.applovin.mediation:mintegral-adapter:16.3.51.2'
    }

    if (MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_MOBILEFUSE == true) {
        implementation 'com.applovin.mediation:mobilefuse-adapter:1.4.1.0'
    }

    if (MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_MYTARGET == true) {
        implementation 'com.applovin.mediation:mytarget-adapter:5.16.3.1'
    }

    if (MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_NEND == true) {
        implementation 'com.applovin.mediation:nend-adapter:9.0.0.0'
    }

    if (MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_OGURY == true) {
        implementation 'com.applovin.mediation:ogury-presage-adapter:5.4.0.1'
    }

    if (MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_PANGLE == true) {
        implementation 'com.applovin.mediation:bytedance-adapter:4.9.0.9.0'
    }

    if (MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_SMAATO == true) {
        implementation 'com.applovin.mediation:smaato-adapter:22.0.1.1'
    }

    if (MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_TAPJOY == true) {
        implementation 'com.applovin.mediation:tapjoy-adapter:12.11.1.1'
    }

    if (MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_UNITYADS == true) {
        implementation 'com.applovin.mediation:unityads-adapter:4.5.0.2'
    }

    if (MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_VERVE == true) {
        implementation 'com.applovin.mediation:verve-adapter:2.17.0.0'
    }

    if (MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_YAHOO == true) {
        implementation 'com.applovin.mediation:verizonads-adapter:2.2.0.8'
    }

    if (MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_YANDEX == true) {
        implementation 'com.applovin.mediation:yandex-adapter:5.4.1.1'
    }
}