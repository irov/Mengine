import com.Mengine.Utils

apply from: rootProject.projectDir.getAbsolutePath() + '/plugins/plugin.gradle'
apply from: rootProject.projectDir.getAbsolutePath() + '/gms.gradle'

def MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_ADCOLONY = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_ADCOLONY")
def MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_AMAZON = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_AMAZON")
def MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_BIDMACHINE = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_BIDMACHINE")
def MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_CHARTBOOST = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_CHARTBOOST")
def MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_CRITEO = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_CRITEO")
def MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_DTEXCHANGE = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_DTEXCHANGE")
def MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_GOOGLEADMANAGER = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_GOOGLEADMANAGER")
def MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_ADMOB = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_ADMOB")
def MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_HYPRMX = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_HYPRMX")
def MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_INMOBI = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_INMOBI")
def MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_IRONSOURCE = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_IRONSOURCE")
def MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_LIFTOFF = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_LIFTOFF")
def MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_LINE = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_LINE")
def MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_MAIO = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_MAIO")
def MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_META = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_META")
def MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_MINTEGRAL = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_MINTEGRAL")
def MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_MOBILEFUSE = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_MOBILEFUSE")
def MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_MYTARGET = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_MYTARGET")
def MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_NEND = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_NEND")
def MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_OGURY = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_OGURY")
def MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_PANGLE = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_PANGLE")
def MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_SMAATO = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_SMAATO")
def MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_TAPJOY = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_TAPJOY")
def MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_UNITYADS = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_UNITYADS")
def MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_VERVE = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_VERVE")
def MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_YANDEX = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_YANDEX")

Utils.logAvailable("MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_ADCOLONY", MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_ADCOLONY)
Utils.logAvailable("MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_AMAZON", MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_AMAZON)
Utils.logAvailable("MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_BIDMACHINE", MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_BIDMACHINE)
Utils.logAvailable("MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_CHARTBOOST", MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_CHARTBOOST)
Utils.logAvailable("MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_CRITEO", MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_CRITEO)
Utils.logAvailable("MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_DTEXCHANGE", MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_DTEXCHANGE)
Utils.logAvailable("MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_GOOGLEADMANAGER", MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_GOOGLEADMANAGER)
Utils.logAvailable("MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_ADMOB", MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_ADMOB)
Utils.logAvailable("MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_HYPRMX", MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_HYPRMX)
Utils.logAvailable("MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_INMOBI", MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_INMOBI)
Utils.logAvailable("MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_IRONSOURCE", MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_IRONSOURCE)
Utils.logAvailable("MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_LIFTOFF", MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_LIFTOFF)
Utils.logAvailable("MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_LINE", MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_LINE)
Utils.logAvailable("MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_MAIO", MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_MAIO)
Utils.logAvailable("MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_META", MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_META)
Utils.logAvailable("MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_MINTEGRAL", MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_MINTEGRAL)
Utils.logAvailable("MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_MOBILEFUSE", MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_MOBILEFUSE)
Utils.logAvailable("MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_MYTARGET", MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_MYTARGET)
Utils.logAvailable("MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_NEND", MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_NEND)
Utils.logAvailable("MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_OGURY", MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_OGURY)
Utils.logAvailable("MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_PANGLE", MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_PANGLE)
Utils.logAvailable("MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_SMAATO", MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_SMAATO)
Utils.logAvailable("MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_TAPJOY", MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_TAPJOY)
Utils.logAvailable("MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_UNITYADS", MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_UNITYADS)
Utils.logAvailable("MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_VERVE", MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_VERVE)
Utils.logAvailable("MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_YANDEX", MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_YANDEX)

def MENGINE_APP_PLUGIN_AMAZON = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_AMAZON")
def MENGINE_APP_PLUGIN_FIREBASE_ANALYTICS = Utils.existAppPlugin(project, "MENGINE_APP_PLUGIN_FIREBASE_ANALYTICS")

if (MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_AMAZON == true) {
    if (MENGINE_APP_PLUGIN_AMAZON == false) {
        throw new GradleException("Plugin [AppLovin] mediation [Amazon] require plugin [Amazon]")
    }
}

subprojects {
    repositories {
        maven { url 'https://artifacts.applovin.com/android' }
    }
}

android {
    namespace "org.Mengine.Plugin.AppLovin"
}

Utils.logAvailable("AppLovin add Firebase Analytics extension", MENGINE_APP_PLUGIN_FIREBASE_ANALYTICS)

if (MENGINE_APP_PLUGIN_FIREBASE_ANALYTICS == true) {
    android {
        ext.extensions += 'org.Mengine.Plugin.AppLovin.MengineAppLovinExtensionFirebaseAnalytics'

        sourceSets {
            main {
                java.srcDirs += ['firebaseAnalytics']
            }
        }
    }

    dependencies {
        implementation project(path: ':plugins:FirebaseAnalytics')

        implementation 'com.google.firebase:firebase-analytics'
    }
}

Utils.logAvailable("AppLovin add Mediation Amazon extension", MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_AMAZON)

if (MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_AMAZON == true) {
    android {
        sourceSets {
            main {
                java.srcDirs += ['mediationAmazon']
            }
        }
    }
}

dependencies {
    implementation 'com.applovin:applovin-sdk:11.11.2'

    if (MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_ADCOLONY == true) {
        implementation 'com.applovin.mediation:adcolony-adapter:4.8.0.4'
    }

    if (MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_AMAZON == true) {
        implementation 'com.applovin.mediation:amazon-tam-adapter:9.8.4.0'
        implementation 'com.amazon.android:aps-sdk:9.8.4'
    }

    if (MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_BIDMACHINE == true) {
        implementation 'com.applovin.mediation:bidmachine-adapter:2.3.2.0'
    }

    if (MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_CHARTBOOST == true) {
        implementation 'com.applovin.mediation:chartboost-adapter:9.4.0.0'
    }

    if (MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_CRITEO == true) {
        implementation 'com.applovin.mediation:criteo-adapter:5.0.2.0'
    }

    if (MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_DTEXCHANGE == true) {
        implementation 'com.applovin.mediation:fyber-adapter:8.2.3.3'
    }

    if (MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_GOOGLEADMANAGER == true) {
        implementation 'com.applovin.mediation:google-ad-manager-adapter:22.2.0.1'
    }

    if (MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_ADMOB == true) {
        implementation 'com.applovin.mediation:google-adapter:22.2.0.2'
    }

    if (MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_HYPRMX == true) {
        implementation 'com.applovin.mediation:hyprmx-adapter:6.2.0.2'
    }

    if (MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_INMOBI == true) {
        implementation 'com.applovin.mediation:inmobi-adapter:10.1.4.3'
        implementation 'com.squareup.picasso:picasso:2.71828'
    }

    if (MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_IRONSOURCE == true) {
        implementation 'com.applovin.mediation:ironsource-adapter:7.4.0.0.0'
    }

    if (MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_LIFTOFF == true) {
        implementation 'com.applovin.mediation:vungle-adapter:6.12.1.1'
    }

    if (MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_LINE == true) {
        implementation 'com.applovin.mediation:line-adapter:2023.6.7.0'
    }

    if (MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_MAIO == true) {
        implementation 'com.applovin.mediation:maio-adapter:1.1.16.2'
    }

    if (MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_META == true) {
        implementation 'com.applovin.mediation:facebook-adapter:6.15.0.0'
    }

    if (MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_MINTEGRAL == true) {
        implementation 'com.applovin.mediation:mintegral-adapter:16.4.91.0'
    }

    if (MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_MOBILEFUSE == true) {
        implementation 'com.applovin.mediation:mobilefuse-adapter:1.5.2.0'
    }

    if (MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_MYTARGET == true) {
        implementation 'com.applovin.mediation:mytarget-adapter:5.18.0.0'
    }

    if (MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_NEND == true) {
        implementation 'com.applovin.mediation:nend-adapter:9.0.1.0'
    }

    if (MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_OGURY == true) {
        implementation 'com.applovin.mediation:ogury-presage-adapter:5.6.0.0'
    }

    if (MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_PANGLE == true) {
        implementation 'com.applovin.mediation:bytedance-adapter:5.3.0.4.0'
    }

    if (MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_SMAATO == true) {
        implementation 'com.applovin.mediation:smaato-adapter:22.2.0.0'
    }

    if (MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_TAPJOY == true) {
        implementation 'com.applovin.mediation:tapjoy-adapter:13.1.2.0'
    }

    if (MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_UNITYADS == true) {
        implementation 'com.applovin.mediation:unityads-adapter:4.8.0.0'
    }

    if (MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_VERVE == true) {
        implementation 'com.applovin.mediation:verve-adapter:2.19.0.0'
    }

    if (MENGINE_APP_PLUGIN_APPLOVIN_MEDIATION_YANDEX == true) {
        implementation 'com.applovin.mediation:yandex-adapter:5.10.0.0'
    }
}

apply from: rootProject.projectDir.getAbsolutePath() + '/plugins/plugin_extensions.gradle'