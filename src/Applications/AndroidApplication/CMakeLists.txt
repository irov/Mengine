MENGINE_PROJECT(AndroidApplication)

ADD_FILTER(
main
    AndroidMain.cpp
    
    stack_chk_fail_local.c
)

ADD_FILTER(
src
    AndroidApplication.cpp
    AndroidApplication.h
)

LINK_DIRECTORIES(${CMAKE_ARCHIVE_OUTPUT_DIRECTORY})

ADD_MENGINE_EXECUTABLE_ANDROID()

TARGET_LINK_LIBRARIES(${PROJECT_NAME} Kernel)

if(MENGINE_PLUGIN_MENGINE_STATIC)
    TARGET_LINK_LIBRARIES(${PROJECT_NAME} Mengine)
else()
    ADD_DEPENDENCIES(${PROJECT_NAME} Mengine)
endif()


if(MENGINE_PLUGIN_MENGINE_STATIC)
    if(APPLICATION_LINK_LIBRARIES)
        TARGET_LINK_LIBRARIES(${PROJECT_NAME} ${APPLICATION_LINK_LIBRARIES})
    endif()
    
    if(APPLICATION_DEPENDENCIES)
        ADD_DEPENDENCIES(${PROJECT_NAME} ${APPLICATION_DEPENDENCIES})
    endif()
endif()