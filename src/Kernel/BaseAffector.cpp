#include "Kernel/BaseAffector.h"

namespace Mengine
{
    //////////////////////////////////////////////////////////////////////////
    BaseAffector::BaseAffector()
    {
    }
    //////////////////////////////////////////////////////////////////////////
    BaseAffector::~BaseAffector()
    {
    }
    //////////////////////////////////////////////////////////////////////////
    void BaseAffector::setCallback( const AffectorCallbackInterfacePtr & _cb )
    {
        m_cb = _cb;
    }
    //////////////////////////////////////////////////////////////////////////
    const AffectorCallbackInterfacePtr & BaseAffector::getCallback() const
    {
        return m_cb;
    }
    //////////////////////////////////////////////////////////////////////////
    void BaseAffector::_complete( bool _isEnd )
    {
        if( m_cb != nullptr )
        {
            uint32_t id = this->getId();

            AffectorCallbackInterfacePtr cb = std::move( m_cb );
            cb->onAffectorEnd( id, _isEnd );
        }
    }
    //////////////////////////////////////////////////////////////////////////
}
