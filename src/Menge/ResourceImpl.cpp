#	include "ResourceImpl.h"

namespace Menge
{
	//////////////////////////////////////////////////////////////////////////
	ResourceImpl::ResourceImpl( const std::string & _name )
	: m_name( _name )
	, m_compile( false )
	, m_refcounter( 0 )
	{
	}
	//////////////////////////////////////////////////////////////////////////
	bool ResourceImpl::compile()
	{
		if( m_compile )
		{
			return true;
		}

		return _compile();
	}
	//////////////////////////////////////////////////////////////////////////
	void ResourceImpl::release()
	{
		if( m_compile )
		{
			_compile();
		}
	}
	//////////////////////////////////////////////////////////////////////////
	bool ResourceImpl::isCompile()
	{
		return m_compile;
	}
	//////////////////////////////////////////////////////////////////////////
	void ResourceImpl::incRef()
	{
		++m_refcounter;
	}
	//////////////////////////////////////////////////////////////////////////
	size_t ResourceImpl::decRef()
	{
		if( m_refcounter == 0 )
		{
			return 0;
		}

		return --m_refcounter;
	}
	//////////////////////////////////////////////////////////////////////////
	size_t ResourceImpl::refCount()
	{
		return m_refcounter;
	}
	//////////////////////////////////////////////////////////////////////////
	void ResourceImpl::setName( const std::string & _name )
	{
		m_name = _name;
	}
	//////////////////////////////////////////////////////////////////////////
	const std::string & ResourceImpl::getName()
	{
		return m_name;
	}
	//////////////////////////////////////////////////////////////////////////
	void ResourceImpl::loader(TiXmlElement *xml)
	{
		//Empty
	}
	//////////////////////////////////////////////////////////////////////////
	bool ResourceImpl::_compile()
	{
		return true;
	}
	//////////////////////////////////////////////////////////////////////////
	void ResourceImpl::_release()
	{
		//Empty
	}

}