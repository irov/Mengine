#include "AndroidPlatformSystem.h"

#include "Environment/Android/AndroidEnv.h"

#include "Kernel/AllocatorHelper.h"

//////////////////////////////////////////////////////////////////////////
SERVICE_FACTORY( PlatformSystem, Mengine::AndroidPlatformSystem );
//////////////////////////////////////////////////////////////////////////
namespace Mengine
{
    //////////////////////////////////////////////////////////////////////////
    AndroidPlatformSystem::AndroidPlatformSystem()
    {
    }
    //////////////////////////////////////////////////////////////////////////
    AndroidPlatformSystem::~AndroidPlatformSystem()
    {
    }
    //////////////////////////////////////////////////////////////////////////
    bool AndroidPlatformSystem::_initializeService()
    {
        // Empty

        return true;
    }
    //////////////////////////////////////////////////////////////////////////
    void AndroidPlatformSystem::_finalizeService()
    {
        // Empty
    }
    //////////////////////////////////////////////////////////////////////////
    bool AndroidPlatformSystem::beginThread( ThreadId _threadId )
    {
        MENGINE_UNUSED( _threadId );

        if( Mengine_JNI_SetupThread() == JNI_FALSE )
        {
            return false;
        }

        return true;
    }
    //////////////////////////////////////////////////////////////////////////
    void AndroidPlatformSystem::endThread( ThreadId _threadId )
    {
        MENGINE_UNUSED( _threadId );

        //Empty
    }
    //////////////////////////////////////////////////////////////////////////
}
