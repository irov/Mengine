MENGINE_PROJECT(LZ4Plugin)

ADD_FILTER(
src
    LZ4Plugin.h
    LZ4Plugin.def
    LZ4Plugin.cpp
    
    ArchivatorLZ4.h
    ArchivatorLZ4.cpp
)

ADD_DEFINITIONS(-DLZ4HC_HEAPMODE=0)
ADD_DEFINITIONS(-DLZ4_FORCE_MEMORY_ACCESS=2)

INCLUDE_DIRECTORIES(${THIRDPARTY_DIR}/lz4/lib)

ADD_MENGINE_PLUGIN(MENGINE_PLUGIN_LZ4)

TARGET_LINK_LIBRARIES(${PROJECT_NAME} ${THIRDPARTY_LIB_DIR}/${MENGINE_LIB_PREFIX}lz4${MENGINE_LIB_SUFFIX})
TARGET_LINK_LIBRARIES(${PROJECT_NAME} Kernel)