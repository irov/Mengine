MENGINE_PROJECT(MARSDKPlugin)

ADD_FILTER(
src
    MARSDKInterface.h

    MARSDKPlugin.h
    MARSDKPlugin.def
    MARSDKPlugin.mm

    IOSMarSDKNative.h
    IOSMarSDKNative.m
)

ADD_FILTER(
Framework
    "${THIRDPARTY_DIR}/MARSDK/MARSDKCore.framework"
)

INCLUDE_DIRECTORIES(${THIRDPARTY_CONFIG_DIR}/SDL)
INCLUDE_DIRECTORIES(${THIRDPARTY_DIR}/SDL2/include)

ADD_MENGINE_PLUGIN(MENGINE_PLUGIN_APPLE_MARSDK)


if(MENGINE_TARGET_IOS)
    set_target_properties(${PROJECT_NAME} PROPERTIES
        XCODE_EMBED_FRAMEWORKS "${THIRDPARTY_DIR}/MARSDK/MARSDKCore.framework"
        XCODE_ATTRIBUTE_OTHER_LDFLAGS "-ObjC")
endif()
