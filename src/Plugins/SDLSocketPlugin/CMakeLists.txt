MENGINE_PROJECT(SDLSocketPlugin)

ADD_FILTER(
src
    SDLSocket.h
    SDLSocket.cpp
    SDLSocketProviderInterface.h
    SDLSocketInputStream.cpp
    SDLSocketInputStream.h
    SDLSocketOutputStream.cpp
    SDLSocketOutputStream.h
    SDLSocketSystem.h
    SDLSocketSystem.cpp
    
    SDLSocketPlugin.cpp
    SDLSocketPlugin.h
    SDLSocketPlugin.def
)

INCLUDE_DIRECTORIES(${THIRDPARTY_CONFIG_DIR}/SDL)
INCLUDE_DIRECTORIES(${THIRDPARTY_DIR}/SDL/include)
INCLUDE_DIRECTORIES(${THIRDPARTY_DIR}/SDL_net)

ADD_MENGINE_PLUGIN(MENGINE_PLUGIN_SDL_SOCKET)

TARGET_LINK_LIBRARIES(${PROJECT_NAME} Kernel)

TARGET_LINK_LIBRARIES(${PROJECT_NAME} ${THIRDPARTY_LIB_DIR}/${MENGINE_LIB_PREFIX}stdex${MENGINE_LIB_SUFFIX} )

TARGET_LINK_LIBRARIES(${PROJECT_NAME} ${THIRDPARTY_LIB_DIR}/${MENGINE_LIB_PREFIX}SDL2_net-static${MENGINE_DEPENDENCIES_DEBUG_SUFFIX}${MENGINE_LIB_SUFFIX})

if(MINGW)
    TARGET_LINK_LIBRARIES(${PROJECT_NAME} Ws2_32.lib)
    TARGET_LINK_LIBRARIES(${PROJECT_NAME} Iphlpapi.lib)
elseif(WIN32)
    TARGET_LINK_LIBRARIES(${PROJECT_NAME} Ws2_32.lib)
    TARGET_LINK_LIBRARIES(${PROJECT_NAME} Iphlpapi.lib)
endif()