SET(MY_LIB_NAME SentryPlugin)

ADD_FILTER(
src
    SentryPlugin.h
    SentryPlugin.def
    SentryPlugin.cpp
)

add_definitions(-DSENTRY_BUILD_STATIC)

include_directories(${THIRDPARTY_DIR}/sentry/include)

ADD_MENGINE_PLUGIN(MENGINE_PLUGIN_SENTRY)

TARGET_LINK_LIBRARIES(${MY_LIB_NAME} ${THIRDPARTY_LIB_DIR}/${MENGINE_LIB_PREFIX}stdex${MENGINE_LIB_SUFFIX})
TARGET_LINK_LIBRARIES(${MY_LIB_NAME} ${THIRDPARTY_LIB_DIR}/${MENGINE_LIB_PREFIX}math${MENGINE_LIB_SUFFIX})
TARGET_LINK_LIBRARIES(${MY_LIB_NAME} ${THIRDPARTY_LIB_DIR}/${MENGINE_LIB_PREFIX}sentry${MENGINE_LIB_SUFFIX})

TARGET_LINK_LIBRARIES(${MY_LIB_NAME} Winhttp.lib)
TARGET_LINK_LIBRARIES(${MY_LIB_NAME} Rpcrt4.lib)
TARGET_LINK_LIBRARIES(${MY_LIB_NAME} Dbghelp.lib)

TARGET_LINK_LIBRARIES(${MY_LIB_NAME} Kernel)