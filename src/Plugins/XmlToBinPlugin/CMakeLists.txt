MENGINE_PROJECT(XmlToBinPlugin)

ADD_FILTER(
src
    XmlToBinPlugin.h
    XmlToBinPlugin.def
    XmlToBinPlugin.cpp
    
    XmlToBinDecoder.h
    XmlToBinDecoder.cpp    
    XmlToBinInterface.h
)

add_definitions(-DMETABUF_EXTERNAL_CONFIG)

INCLUDE_DIRECTORIES(${THIRDPARTY_DIR}/pugixml/src)
INCLUDE_DIRECTORIES(${THIRDPARTY_DIR}/metabuf/include)
INCLUDE_DIRECTORIES(${THIRDPARTY_DIR}/metabuf/src)
INCLUDE_DIRECTORIES(${THIRDPARTY_DIR}/utf8/source)

ADD_MENGINE_PLUGIN(MENGINE_PLUGIN_XMLTOBIN)

TARGET_LINK_LIBRARIES(${PROJECT_NAME} Kernel)

TARGET_LINK_LIBRARIES(${PROJECT_NAME} ${THIRDPARTY_LIB_DIR}/${MENGINE_LIB_PREFIX}xml2metabuf${MENGINE_LIB_SUFFIX})
TARGET_LINK_LIBRARIES(${PROJECT_NAME} ${THIRDPARTY_LIB_DIR}/${MENGINE_LIB_PREFIX}pugixml${MENGINE_LIB_SUFFIX})
TARGET_LINK_LIBRARIES(${PROJECT_NAME} ${THIRDPARTY_LIB_DIR}/${MENGINE_LIB_PREFIX}stdex${MENGINE_LIB_SUFFIX})
