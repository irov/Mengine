#include "ApplePersistentSystem.h"

#include "Environment/Apple/AppleUserDefaults.h"

//////////////////////////////////////////////////////////////////////////
SERVICE_FACTORY( PersistentSystem, Mengine::ApplePersistentSystem );
//////////////////////////////////////////////////////////////////////////
namespace Mengine
{
    //////////////////////////////////////////////////////////////////////////
    ApplePersistentSystem::ApplePersistentSystem()
    {
    }
    //////////////////////////////////////////////////////////////////////////
    ApplePersistentSystem::~ApplePersistentSystem()
    {
    }
    //////////////////////////////////////////////////////////////////////////
    bool ApplePersistentSystem::_initializeService()
    {
        //Empty

        return true;
    }
    //////////////////////////////////////////////////////////////////////////
    void ApplePersistentSystem::_finalizeService()
    {
        //Empty
    }
    //////////////////////////////////////////////////////////////////////////
    bool ApplePersistentSystem::getPersistentArguments( Char * _value, size_t _capacity ) const
    {
        bool successful = Helper::AppleGetUserDefaultsString( "mengine.persistent.arguments", _value, _capacity );

        return successful;
    }
    //////////////////////////////////////////////////////////////////////////
    void ApplePersistentSystem::setPersistentArguments( const Char * _value )
    {
        Helper::AppleSetUserDefaultsString( "mengine.persistent.arguments", _value );
    }
    //////////////////////////////////////////////////////////////////////////
    void ApplePersistentSystem::removePersistentArguments()
    {
        Helper::AppleRemoveUserDefaults( "mengine.persistent.arguments" );
    }
    //////////////////////////////////////////////////////////////////////////
}
